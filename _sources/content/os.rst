Cours
=====

Rôle d'un système d'exploitation
--------------------------------

Le système d'exploitation assure la communication entre l'utilisateur, les programmes et la machine. On représente cette fonctionnalité par 4 couches repésentant la machine, l'OS, les programmes et les utilisateurs.

.. image:: ../img/couches_os.svg
   :align: center

-  Le système d'exploitation **gère les utilisateurs** en leur attribuant un espace personnel, en lui permettant de lancer des programmes et utiliser les périphériques connectés à l'ordinateur.
-  Le système d'exploitation **gère les fichiers** en les organisant sur le disque dur et dans la mémoire vive pour les lire ou les écrire.
-  Le système d'exploitation **gère les ressources** de la machine pour pouvoir exécuter plusieurs programmes en même temps. Pour cela il réserve des espaces en mémoire vive pour chacun des programmes, orchestre l'exécution des programmes par le processeur et utilise les différents périphériques de la machine comme le clavier, l'écran ou la carte réseau.

   .. note::
   
      Le système d'exploitation dispose de quelques programmes de base pour qu'un utilisateur puisse créer un fichier texte, dessiner, calculer, etc. Dans windows, ces programmes se trouvent dans les accessoires.

Principaux systèmes d'exploitation
----------------------------------

#. Le système d'exploitation le plus répandu sur les PC est **Windows** de la société Microsoft. Il a été créé dans les années 1980 par Bill Gates et Paul Allen. Ce système d'exploitation est payant et reste un logiciel propriétaire. Cela implique qu'on ne peut pas accéder au code source du système et qu'on ne peut pas le modifier.

   .. image:: ../img/Microsoft.jpg
      :align: center
      :width: 180px

#. Un autre système d'exploitation très prisé est celui de la société Apple. Ce système ne peut être installé que sur des ordinateurs de la marque Apple. Il s'agit de **MacOS** créé par Steve Jobs et Steve Wozniak. Il a été repensé et étendu au système d'exploitation **iOS** pour les smartphones et les tablettes de la marque Apple.

   .. image:: ../img/Apple-logo.jpg
      :align: center
      :width: 140px

#. Enfin, il existe un système d'exploitation gratuit et libre. Cela implique qu'on peut accéder au code source et réaliser des modifications. Ce système d'exploitation est **GNU/Linux** créé par Richard Stallman et par Linus Torvald en 1991. Les 2 inventeurs ont fusionné leurs travaux (**GNU** pour Stallman et **Linux** pour Torvald) pour créer ce système d'exploitation. Il existe de nombreuses distributions de cet OS : Debian, Ubuntu, Mint, Centos, etc.

   .. image:: ../img/GNU_and_Tux.png
      :align: center
      :width: 160px
   
Le système de gestion de fichiers
---------------------------------

Les fichiers enregistrés sur le disque dur sont écrits par blocs et sont accessibles par leur adresse. Un fichier est finalement constitué d'un ou plusieurs blocs selon sa taille (quelques octets ou plusieurs mega octets).

Les fichiers sont organisés par le système d'exploitation de façon hiérarchique dans des répertoires (ou dossiers). On parle d\'**arborescence** pour représenter cette hiérarchie. Au début, on a une racine reliée à plusieurs branches (dossiers) qui se divisent en d'autres branches (sous-dossiers) et se terminent par des feuilles (fichiers).

.. image:: ../img/arborescence.svg
   :align: center
   :width: 480px

Sur la figure ci-dessus, les dossiers sont en jaune et les fichiers sont en blanc.

Les explorateurs de fichiers d'un système d'exploitation affichent cette arborescence sous forme verticale avec la racine en haut. Par exemple, pour l'arborescence précédente, on a l'affichage suivant:
   
.. image:: ../img/arborescence_verticale.svg
   :align: center
   :width: 240px
      
- Les dossiers ``d`` et ``e`` sont inclus dans le dossier ``a``. On dit que le dossier ``a`` est le **parent** des dossiers ``d`` et ``e``.
- Les fichiers ``f1`` et ``f2`` sont dans le dossier ``d``. L'accès à ces fichiers se fait en suivant les chemins ``racine\a\d\f1`` et ``racine\a\d\f2``.

Chaque fichier est accessible via son chemin qui est unique.

.. important::

   Le chemin (path en anglais) d'un fichier est la suite de dossiers à traverser pour y accéder. Pour se déplacer dans une arborescence, on utilise le chemin **absolu** ou **relatif**.
   
   - Le chemin **absolu** d'un fichier est le chemin depuis la racine de l'arborescence.
   - Le chemin **relatif** d'un fichier est le chemin depuis le dossier où se trouve l'utilisateur.

Les **noms de fichiers** se composent de 2 parties : le **nom** et **l'extension** séparés par un point. L\'**extension** permet d'associer le programme qui va permettre d'ouvrir ce fichier.


Certaines extensions permettent de reconnaitre le type de fichier:

- Les extensions ``png``, ``jpg`` et ``svg`` désignent des images et donc des applications de dessin;
- Les extensions ``txt``, ``odt`` et ``docx`` désignent des fichiers textes et donc des applications de traitement de texte.
- Les extensions ``exe``, ``msi`` et ``bat`` désignent des fichiers exécutables par le système d'exploitation **windows**.

Les permissions ou droits d'accès
---------------------------------

Un système d'exploitation installé sur une machine peut gérer plusieurs utilisateurs. Chaque utilisateur dispose d'une **session** et s'y connecte avec un **identifiant** et un **mot de passe**. Lorsqu'un utilisateur est connecté à sa session, il peut accéder à son dossier personnel où sont rangés ses documents personnels. Il est le seul à pouvoir y accéder.

L'accès aux dossiers et fichiers est possible grâce à leurs **permissions** ou **droits**. Il en existe 3 : **lecture**, **écriture** et **exécution**. Le tableau suivant regroupe les permissions et les actions associées.

.. csv-table:: Permissions ou droits
   :header: "Droit", "Fichier" ,"Répertoire ou dossier"
   :align: left
   :widths: 1, 2, 2
   :file: ../csv/droits_acces.csv

.. note::

   Il existe dans les systèmes d'exploitation un **super-utilisateur** ou un **administrateur** qui :
   
   -  a accès à tous les fichiers et dossiers de l'ordinateur;
   -  peut gérer les utilisateurs et modifier leurs droits d'accès.
   -  installer des programmes et des périphériques supplémentaires.
